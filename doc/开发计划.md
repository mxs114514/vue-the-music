# Vue éŸ³ä¹æ’­æ”¾å™¨é¡¹ç›®ï¼š14 å¤©å¼€å‘è®¡åˆ’ï¼ˆå®Œæ•´è¦†ç›–ç®€å†æŠ€æœ¯æ ˆï¼‰

**ç›®æ ‡**ï¼šåœ¨ä¸¤å‘¨å†…ä»é›¶æ„å»ºä¸€ä¸ªå¯å†™è¿›ç®€å†çš„é«˜è´¨é‡ Vue éŸ³ä¹æ’­æ”¾å™¨ï¼Œå®Œæ•´å®ç°ä»¥ä¸‹æŠ€æœ¯æ ˆä¸äº®ç‚¹ï¼š

> Vue 3 + TypeScript + Pinia + Vite + Element Plus + Web Audio API + Canvas å¯è§†åŒ– + LRC æ­Œè¯åŒæ­¥ + ç²¾å‡†è¿›åº¦æ‹–æ‹½ + PWAï¼ˆç¦»çº¿/æ¡Œé¢å®‰è£…ï¼‰+ Vitestï¼ˆè¦†ç›–ç‡ >85%ï¼‰+ ESLint + Prettier + æš—è‰²æ¨¡å¼ + è‡ªå®šä¹‰ä¸»é¢˜

## ğŸ“… æ€»ä½“èŠ‚å¥

- **ç¬¬ 1â€“7 å¤©**ï¼šæ ¸å¿ƒåŠŸèƒ½ MVPï¼ˆèƒ½æ’­ã€èƒ½æ§ã€èƒ½çœ‹ï¼‰
- **ç¬¬ 8â€“12 å¤©**ï¼šé«˜çº§ç‰¹æ€§ + å·¥ç¨‹åŒ–
- **ç¬¬ 13â€“14 å¤©**ï¼šæµ‹è¯•ã€æ–‡æ¡£ã€éƒ¨ç½²ã€ç®€å†æ•´åˆ

*æ¯å¤©å»ºè®®æŠ•å…¥ 2.5â€“3 å°æ—¶ã€‚*

## ğŸ—“ï¸ è¯¦ç»†æ¯æ—¥è®¡åˆ’è¡¨

### Day 1ï¼šé¡¹ç›®åˆå§‹åŒ– + å¼€å‘ç¯å¢ƒæ­å»º

- âœ… **ä½¿ç”¨å®˜æ–¹è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®**ï¼š
  ```bash
  npm create vue@latest music-player
  # é€‰æ‹©ï¼šTypeScript, Pinia, Vue Router, ESLint, Prettier
  ```

- âœ… **å®‰è£…ä¾èµ–**ï¼š
  ```bash
  npm install element-plus
  npm install -D @iconify-json/ep
  # æ¨èï¼šå®‰è£…è‡ªåŠ¨å¯¼å…¥æ’ä»¶
  npm install -D unplugin-vue-components unplugin-auto-import
  ```

- âœ… **é…ç½®è‡ªåŠ¨æŒ‰éœ€å¼•å…¥** (`vite.config.ts` + `unplugin-vue-components`)

- âœ… **åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„**ï¼š
  ```text
  src/
  â”œâ”€â”€ composables/
  â”œâ”€â”€ stores/
  â”œâ”€â”€ utils/
  â”œâ”€â”€ views/
  â””â”€â”€ components/
  ```

- âœ… **æäº¤é¦–æ¬¡ commit**

ğŸ”‘ **äº§å‡º**ï¼šè§„èŒƒçš„ Vue 3 + TS + Pinia + Element Plus é¡¹ç›®éª¨æ¶

### Day 2ï¼šåŸºç¡€éŸ³é¢‘æ’­æ”¾ + æ’­æ”¾æ§åˆ¶

- âœ… **åœ¨ `public/songs/` æ”¾ 2â€“3 é¦–æ— ç‰ˆæƒ MP3**
- âœ… **åˆ›å»º `AudioPlayer.vue`**
- âœ… **å®ç°**ï¼š
  - `<audio ref="audioRef" />`
  - æ’­æ”¾ / æš‚åœï¼ˆæŒ‰é’®ï¼‰
  - æ˜¾ç¤ºå½“å‰æ—¶é—´ / æ€»æ—¶é•¿
  - ä¸Šä¸€æ›² / ä¸‹ä¸€æ›²ï¼ˆç¡¬ç¼–ç åˆ—è¡¨ï¼‰
- âœ… **ä½¿ç”¨ Element Plus ç»„ä»¶**ï¼š`el-button`ã€`el-icon`

ğŸ”‘ **äº§å‡º**ï¼šèƒ½æ’­æ”¾æœ¬åœ°éŸ³ä¹çš„åŸºç¡€æ’­æ”¾å™¨

### Day 3ï¼šPinia çŠ¶æ€ç®¡ç† + æŒä¹…åŒ–

- âœ… **åˆ›å»º `stores/player.ts`**ï¼š
  ```ts
  interface Song { id: string; title: string; artist: string; url: string; lrcUrl?: string }
  // state: { currentSong, isPlaying, volume, playlist, playMode }
  // actions: { play(), togglePlay(), next(), prev(), setVolume() }
  ```

- âœ… **å¯ç”¨æŒä¹…åŒ–**ï¼š
  *éœ€å…ˆå®‰è£…æ’ä»¶ï¼š`npm install pinia-plugin-persistedstate`*
  ```ts
  import piniaPluginPersistedstate from 'pinia-plugin-persistedstate'
  const pinia = createPinia()
  pinia.use(piniaPluginPersistedstate)
  ```

- âœ… **åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ store æ›¿ä»£æœ¬åœ°çŠ¶æ€**

ğŸ”‘ **äº§å‡º**ï¼šå…¨å±€çŠ¶æ€ç®¡ç† + å…³é—­æµè§ˆå™¨åæ¢å¤æ’­æ”¾çŠ¶æ€

### Day 4ï¼šè¿›åº¦æ¡ + éŸ³é‡ + ç²¾å‡†æ‹–æ‹½

- âœ… **ä½¿ç”¨ `el-slider` å®ç°**ï¼š
  - è¿›åº¦æ¡ï¼ˆç»‘å®š `currentTime`ï¼‰
  - éŸ³é‡æ§åˆ¶ï¼ˆç»‘å®š `volume`ï¼‰

- âœ… **å®ç°è¿›åº¦æ¡æ‹–æ‹½é€»è¾‘**ï¼š
  ```ts
  const onProgressChange = (value: number) => {
    audioRef.value!.currentTime = value
  }
  ```

- âœ… **ç›‘å¬ `timeupdate` æ›´æ–°è¿›åº¦ï¼ˆèŠ‚æµä¼˜åŒ–ï¼‰**

ğŸ”‘ **äº§å‡º**ï¼šé«˜ç²¾åº¦è¿›åº¦æ‹–æ‹½ + éŸ³é‡æ§åˆ¶

### Day 5ï¼šLRC æ­Œè¯è§£æ + åŒæ­¥é«˜äº®

- âœ… **å‡†å¤‡ `.lrc` æ–‡ä»¶**ï¼ˆæ‰‹åŠ¨å†™ï¼Œæ”¾ `public/lyrics/`ï¼‰
- âœ… **ç¼–å†™ `utils/lyrics.ts`**ï¼š
  ```ts
  export function parseLrc(lrcText: string): LyricLine[] {
    const lines = lrcText.split('\n')
    return lines.map(line => {
      const match = line.match(/\[(\d{2}):(\d{2})\.(\d{2,3})\](.*)/)
      if (!match) return null
      const min = parseInt(match[1]), sec = parseInt(match[2]), ms = parseInt(match[3])
      const time = min * 60 + sec + ms / 1000
      return { time, text: match[4].trim() }
    }).filter(Boolean) as LyricLine[]
  }
  ```

- âœ… **åˆ›å»º `Lyrics.vue`**ï¼šé«˜äº®å½“å‰è¡Œ + ç‚¹å‡»è·³è½¬

ğŸ”‘ **äº§å‡º**ï¼šLRC æ­Œè¯åŒæ­¥ + ç‚¹å‡»è·³è½¬

### Day 6ï¼šæ’­æ”¾åˆ—è¡¨é¡µé¢ + è·¯ç”± + UI å¸ƒå±€

- âœ… **åˆ›å»º `/playlist` é¡µé¢**
- âœ… **ç”¨ `el-table` æˆ– `el-list` å±•ç¤ºæ­Œæ›²**
- âœ… **ç‚¹å‡»æ­Œæ›² â†’ æ’­æ”¾å¹¶è·³è½¬é¦–é¡µ**
- âœ… **ä¸»å¸ƒå±€**ï¼šé¡¶éƒ¨å¯¼èˆª + ä¸­é—´å†…å®¹ + å›ºå®šåº•éƒ¨æ’­æ”¾æ 
- âœ… **å“åº”å¼é€‚é…ï¼ˆæ‰‹æœº/æ¡Œé¢ï¼‰**

ğŸ”‘ **äº§å‡º**ï¼šå®Œæ•´ SPA ç»“æ„ + å“åº”å¼ UI

### Day 7ï¼šElement Plus ä¸»é¢˜å®šåˆ¶ + æš—è‰²æ¨¡å¼

- âœ… **é…ç½® Element Plus å…¨å±€ä¸»é¢˜è‰²**
- âœ… **å®ç°æš—è‰²æ¨¡å¼åˆ‡æ¢**ï¼š
  ```ts
  // composables/useTheme.ts
  const isDark = ref(false)
  watch(isDark, () => {
    document.documentElement.classList.toggle('dark', isDark.value)
  })
  ```
- âœ… **è‡ªå®šä¹‰ CSS å˜é‡è¦†ç›– Element æ ·å¼**
- âœ… **æ·»åŠ ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ï¼ˆ`el-switch`ï¼‰**

ğŸ”‘ **äº§å‡º**ï¼šè‡ªå®šä¹‰ä¸»é¢˜ + æš—è‰²æ¨¡å¼

### Day 8ï¼šWeb Audio API + Canvas é¢‘è°±å¯è§†åŒ–

- âœ… **åœ¨ `useAudioPlayer.ts` ä¸­æ¥å…¥ Web Audio**ï¼š
  ```ts
  const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()
  const analyser = audioContext.createAnalyser()
  const source = audioContext.createMediaElementSource(audio)
  source.connect(analyser).connect(audioContext.destination)
  ```

- âœ… **åˆ›å»º `Visualizer.vue`**ï¼š
  - `<canvas>` ç»˜åˆ¶é¢‘è°±æŸ±çŠ¶å›¾
  - `requestAnimationFrame` å®æ—¶æ›´æ–°

- âœ… **å¤„ç†ç”¨æˆ·äº¤äº’æš‚åœæ—¶åœæ­¢åŠ¨ç”»**

ğŸ”‘ **äº§å‡º**ï¼šåŠ¨æ€éŸ³é¢‘å¯è§†åŒ–ï¼ˆæœ€å¤§æŠ€æœ¯äº®ç‚¹ï¼ï¼‰

### Day 9ï¼šPWA é…ç½®ï¼ˆç¦»çº¿ + æ¡Œé¢å®‰è£…ï¼‰

- âœ… **å®‰è£…æ’ä»¶**ï¼š
  ```bash
  npm install vite-plugin-pwa -D
  # æ¨èï¼šå®‰è£…èµ„æºç”Ÿæˆå™¨
  npm install -D pwa-asset-generator
  ```

- âœ… **é…ç½® `vite.config.ts`**ï¼š
  ```ts
  import { VitePWA } from 'vite-plugin-pwa'
  // plugins: [VitePWA({
  //   registerType: 'autoUpdate',
  //   manifest: {
  //     name: 'Vue Music Player',
  //     short_name: 'Music',
  //     theme_color: '#3b82f6',
  //     icons: [{ src: 'icon-192.png', sizes: '192x192', type: 'image/png' }]
  //   }
  // })]
  ```

- âœ… **ç”Ÿæˆå›¾æ ‡**ï¼ˆä½¿ç”¨ `pwa-asset-generator`ï¼‰
- âœ… **æµ‹è¯•**ï¼šChrome DevTools â†’ Application â†’ Manifest

ğŸ”‘ **äº§å‡º**ï¼šæ”¯æŒç¦»çº¿æ‰“å¼€ + æ¡Œé¢å®‰è£…

### Day 10ï¼šComposables æŠ½ç¦» + ä»£ç é‡æ„

- âœ… **å°†é€»è¾‘ç§»å‡ºç»„ä»¶**ï¼š
  - `composables/useAudioPlayer.ts`
  - `composables/useLyrics.ts`
  - `composables/useVisualizer.ts`
- âœ… **ç»„ä»¶åªä¿ç•™æ¨¡æ¿å’Œç®€å•è°ƒç”¨**
- âœ… **ç¡®ä¿ç±»å‹å®‰å…¨ï¼ˆTypeScript æ¥å£å®šä¹‰ï¼‰**

ğŸ”‘ **äº§å‡º**ï¼šé€»è¾‘ä¸ UI åˆ†ç¦»ï¼Œå±•ç¤ºæ¶æ„èƒ½åŠ›

### Day 11ï¼šVitest å•å…ƒæµ‹è¯•ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰

- âœ… **å®‰è£…**ï¼š
  ```bash
  npm install -D vitest @vitest/ui jsdom
  ```

- âœ… **ç¼–å†™æµ‹è¯•**ï¼š
  - `tests/utils/lyrics.spec.ts` â†’ `parseLrc`
  - `tests/composables/audio.spec.ts` â†’ æ’­æ”¾æ§åˆ¶é€»è¾‘

- âœ… **é…ç½® `vitest.config.ts`**
- âœ… **è¿è¡Œæµ‹è¯•å¹¶æŸ¥çœ‹è¦†ç›–ç‡**ï¼š
  ```bash
  npx vitest --coverage
  ```

ğŸ”‘ **äº§å‡º**ï¼šå•å…ƒæµ‹è¯• + è¦†ç›–ç‡ >85%

### Day 12ï¼šESLint + Prettier + ä»£ç è§„èŒƒ

- âœ… **ç¡®è®¤å·²å¯ç”¨ ESLint + Prettierï¼ˆè„šæ‰‹æ¶é»˜è®¤åŒ…å«ï¼‰**
- âœ… **é…ç½® `.prettierrc`ï¼ˆå•å¼•å·ã€2 ç©ºæ ¼ç­‰ï¼‰**
- âœ… **æ·»åŠ  `lint-staged` + `husky`ï¼ˆå¯é€‰ï¼‰**ï¼š
  ```bash
  npx husky-init && npm install
  npx lint-staged
  ```
- âœ… **æ‰§è¡Œå…¨é‡æ ¼å¼åŒ–ä¸ lint**

ğŸ”‘ **äº§å‡º**ï¼šä¸“ä¸šçº§ä»£ç è§„èŒƒ

### Day 13ï¼šREADME + GitHub å¼€æº

- âœ… **ç¼–å†™ `README.md`**ï¼š
  - é¡¹ç›®æˆªå›¾ï¼ˆæ¡Œé¢ + æ‰‹æœºï¼‰
  - åŠŸèƒ½åˆ—è¡¨
  - æŠ€æœ¯æ ˆè¯´æ˜
  - æœ¬åœ°è¿è¡Œå‘½ä»¤
  - éƒ¨ç½²é“¾æ¥
- âœ… **æ·»åŠ  LICENSEï¼ˆMITï¼‰**
- âœ… **æ¨é€åˆ° GitHub**

### Day 14ï¼šéƒ¨ç½² + ç®€å†æ•´åˆ

- âœ… **éƒ¨ç½²åˆ° Vercel / Netlifyï¼ˆå…è´¹ï¼‰**
- âœ… **æ›´æ–°ç®€å†ä¸­çš„é¡¹ç›®æè¿°ï¼ˆä½¿ç”¨ä¼˜åŒ–ç‰ˆï¼‰**
- âœ… **å‡†å¤‡ 3 ä¸ªæŠ€æœ¯é—®é¢˜ç­”æ¡ˆ**ï¼š
  - â€œWeb Audio å’Œ `<audio>` å¦‚ä½•è”åŠ¨ï¼Ÿâ€
  - â€œæ­Œè¯åŒæ­¥å¦‚ä½•ä¿è¯ç²¾åº¦ï¼Ÿâ€
  - â€œPinia æŒä¹…åŒ–åŸç†æ˜¯ä»€ä¹ˆï¼Ÿâ€

ğŸ‰ **å®Œæˆï¼ä½ æ‹¥æœ‰ä¸€ä¸ªé«˜å«é‡‘é‡ã€å…¨æŠ€æœ¯æ ˆè¦†ç›–çš„å‰ç«¯ä½œå“ï¼**